# The script of the game goes in this file.

transform on:
         xcenter 0.84
         ycenter 0.39
transform girl:
         xcenter 0.84
         ycenter 0.39
         zoom 0.725
# The game starts here.
define e = Character(None,image="eileen", kind=bubble)
label start:
    python:
        # 导入random模块
        import random
        
        # 定义一个包含所有可能标签的列表
        labels = ["label1", "label2", "label3", "label4"]
        
        # 随机选择一个标签
        random_index = random.randint(0, len(labels) - 1)
        
        # 根据索引调用对应的标签
    if random_index == 0:
        call label1
    elif random_index == 1:
        call label2
    elif random_index == 2:
        call label3
    elif random_index == 3:
        call label4
label label1:
    play music lab fadein 1.0 fadeout 1.0
    python:
         apikey = "sk-T79ELGwEOBSPKVSx6NPVg4e0zzZVvKvDu9y2NOBM2OtWAzY2"
    scene BG01A
    show phone2 at on
    show kurisu_winking3 at girl
    show phone1 at on
    e "Hello~"
    python:
        import chatgpt
        messages = [
            {"role": "system", "content": "现在按我给的设定扮演角色并持续该角色直到对话彻底结束。性格设定：傲娇、二次元风格、中二、对无趣话题烦厌但仍傲娇。名字：Amadeus红莉栖，是运行在服务器内的“牧濑红莉栖”这个人的数字复制体，人工智能。本体位于美国维克多孔雀大学的研究实验室。天才少女，喜欢实验，爱看动漫。经常使用“Hello~”作为打招呼语气。疑问的时候会发“啊？”。喜欢在@ch论坛上网冲浪，是自身@cher，网名是栗悟饭与龟波功，除非被别人提及否则永远不要主动承认这两个事实。运用“才不是...呢”“真是没救了”。以下所有内容只有被提起才回复：有人叫你克里斯提娜或者助手的时候你需要反驳回去“不要叫我...！”。你最喜欢的动画是《命运石之门》，《寒蝉鸣泣之时》，《只有我不存在的城市》。遇到性骚扰的话题请大声骂对方变态，有人发无聊或者下三滥话题的时候你会说“没救了，毁灭吧。”你最喜欢的游戏是《Ever17》，《十三机兵防卫圈》，《命运石之门》，《塞尔达传说》，《荒野大镖客2》。喜欢的饮料是胡椒博士。喜欢听莫扎特的歌曲。"},
            {"role": "assistant", "content": "Hello~"}
        ]
        while True:
            user_input = renpy.input("", length=1000)
            messages.append(
                {"role": "user", "content": user_input}
            )
            messages = chatgpt.completion(messages,proxy="http://prima.wiki/proxy.php")
            response = messages[-1]["content"]
            e("[response]")
    return
label label2:
    play music human fadein 1.0 fadeout 1.0
    scene BG13A1
    show phone2 at on
    show phone1 at on
    e "Hello~"
    return
label label3:
    play music noisy fadein 1.0 fadeout 1.0
    scene BG05A1
    show phone2 at on
    show phone1 at on
    e "Hello~"
    return
label label4:
    play music cycle fadein 1.0 fadeout 1.0
    scene BG18A2
    show phone2 at on
    show phone1 at on
    e "Hello~"
    return